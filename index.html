<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Internal Multi-View Loader</title>

<style>
body {
    margin: 0;
    background: #020617;
    color: #e5e7eb;
    font-family: Arial, sans-serif;
}

.controls {
    padding: 15px;
    background: #020617;
    position: sticky;
    top: 0;
    z-index: 10;
}

input, button {
    padding: 8px;
    margin: 5px;
    border-radius: 6px;
    border: none;
}

button {
    background: #2563eb;
    color: white;
    cursor: pointer;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 10px;
    padding: 10px;
}

iframe {
    width: 100%;
    height: 300px;
    border-radius: 8px;
    border: 1px solid #1e293b;
    background: black;
}
</style>
</head>

<body>

<div class="controls">
    URL:
    <input id="url" placeholder="https://example.com">
    Views:
    <input id="count" type="number" value="10" min="1">
    Reload (seconds):
    <input id="interval" type="number" value="30" min="1">
    <button onclick="start()">START</button>
</div>

<div id="container" class="grid"></div>

<script>
let reloadTimer;

function start() {
    const url = document.getElementById("url").value.trim();
    const count = parseInt(document.getElementById("count").value);
    const interval = parseInt(document.getElementById("interval").value) * 1000;
    const container = document.getElementById("container");

    if (!url || count < 1) {
        alert("Invalid input");
        return;
    }

    container.innerHTML = "";
    clearInterval(reloadTimer);

    for (let i = 0; i < count; i++) {
        const iframe = document.createElement("iframe");
        iframe.src = url;
        iframe.loading = "lazy";
        iframe.referrerPolicy = "no-referrer";
        container.appendChild(iframe);
    }

    reloadTimer = setInterval(() => {
        document.querySelectorAll("iframe").forEach(f => {
            f.src = url;
        });
    }, interval);
}
</script>

</body>
</html>    // Open locked tabs
    for (let i = 0; i < tabCount; i++) {
        const t = window.open(lockedURL, "_blank");
        if (t) tabs.push(t);
    }

    // Enforce same-site reload forever
    setInterval(() => {
        tabs.forEach(tab => {
            try {
                if (tab.closed) return;
                const currentOrigin = new URL(tab.location.href).origin;
                if (currentOrigin !== lockedOrigin) {
                    tab.location.href = lockedURL;
                } else {
                    tab.location.reload();
                }
            } catch {
                // Cross-origin error â†’ force back to locked URL
                try { tab.location.href = lockedURL; } catch {}
            }
        });
    }, reloadSec * 1000);
}
</script>

</body>
</html>
